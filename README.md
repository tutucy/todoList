# TODO List 项目说明文档

## 1. 技术选型

### 编程语言
- **JavaScript**，理由：生态成熟、社区活跃，适合前端开发。

### 框架/库
- **Vue 3** (Composition API)，理由：组件化开发，响应式设计，学习曲线平缓，适合快速开发单页应用。
- **Element Plus**，理由：提供了丰富的UI组件，减少重复开发，样式美观，响应式设计。
- **vuedraggable**，理由：轻量级拖拽库，与Vue 3兼容性好，实现拖拽排序功能简单。
- **ECharts**，理由：强大的图表库，支持多种图表类型，适合数据可视化需求。

### 数据库/存储
- **localStorage**，理由：轻量级本地存储方案，无需后端支持，适合简单数据存储，便于快速开发和部署。

### 替代方案对比
- **替代方案1**：IndexedDB - 适合更复杂的数据结构和大量数据，但API较复杂，对于本项目的简单数据存储来说过于重量级。
- **替代方案2**：后端数据库（如MySQL、MongoDB） - 需要搭建后端服务，增加了项目复杂度和部署成本，不符合本项目快速开发和轻量级的需求。

## 2. 项目结构设计

### 整体架构说明
本项目是一个纯前端单页应用，采用Vue 3的Composition API开发，使用Element Plus提供UI组件，通过localStorage进行数据持久化。整体架构分为以下几个层次：
- **组件层**：负责UI渲染和用户交互
- **数据层**：负责数据的存储和管理
- **工具层**：提供通用功能和工具函数

### 目录结构示例

src/
  components/          # 组件目录
    TodoItem.vue       # 待办事项项组件
    TodoChart.vue      # 图表统计组件
  App.vue              # 主应用组件
  main.js              # 应用入口文件

### 模块职责说明
- **App.vue**：主应用组件，负责管理待办事项列表、添加新待办、搜索筛选、批量操作等核心功能。
- **TodoItem.vue**：单个待办事项组件，负责显示和编辑待办事项的详细信息。
- **TodoChart.vue**：图表统计组件，负责展示待办事项的分类分布、完成情况和优先级分布。
- **main.js**：应用入口，负责初始化Vue应用和引入Element Plus等依赖。

## 3. 需求细节与决策

### 核心功能决策
- **待办事项必填项**：标题为必填项，空标题不允许添加。
- **空输入处理**：添加待办事项时，检查标题是否为空，为空则不允许提交。
- **已完成任务显示**：已完成的任务在UI中通过勾选状态和样式区分（文字变灰，添加删除线）。
- **任务排序逻辑**：
  - 默认按创建时间排序（最新创建的在最上面）。
  - 支持拖拽排序，用户可以手动调整任务顺序。
- **优先级设置**：
  - 支持自定义优先级（高、中、低）。
  - 可以根据优先级筛选任务。
- **批量操作**：
  - 支持全选/取消全选。
  - 支持批量删除。
  - 支持批量标记完成/未完成。
- **搜索和筛选**：
  - 支持按关键词搜索标题和描述。
  - 支持按状态、分类、优先级和标签筛选。
- **数据导入/导出**：
  - 支持JSON格式的数据导入/导出。
  - 导出功能允许备份数据，导入功能允许恢复数据或从其他设备迁移数据。
- **自定义分类和优先级**：
  - 允许用户创建、编辑和删除自定义分类。
  - 允许用户创建、编辑和删除自定义优先级。
- **标签功能**：
  - 支持为待办事项添加多个标签。
  - 支持通过标签筛选任务。

### 扩展功能设计思路
- **数据同步**：可以考虑添加云同步功能，使用Firebase或Supabase等BaaS服务，实现多设备数据同步。
- **提醒功能**：可以添加日期和时间选择，结合浏览器的Notification API实现本地提醒。
- **统计分析**：可以扩展图表功能，添加更多统计维度，如时间分布、完成率趋势等。

## 4. AI 使用说明

### 是否使用 AI 工具
是，使用了GitHub Copilot和ChatGPT。

### 使用 AI 的环节
1. **代码片段生成**：
   - 生成组件的基本结构和样式。
   - 生成图表配置和初始化代码。
   - 生成数据导入/导出功能的实现。

2. **Bug 定位**：
   - 帮助定位ECharts实例管理的问题。
   - 帮助解决Vue响应式数据更新的问题。


### AI 输出如何修改
- **AI 给出的方案**：初始方案使用了固定的优先级（高、中、低）。
- **修改内容**：改为支持自定义优先级，允许用户创建、编辑和删除优先级。
- **AI 给出的方案**：初始方案使用了简单的数组存储待办事项。
- **修改内容**：改为使用对象存储，添加了更多字段（描述、分类、优先级、标签等）。
- **AI 给出的方案**：初始方案没有批量操作功能。
- **修改内容**：添加了批量操作功能，包括全选、批量删除、批量标记完成/未完成。

## 5. 运行与测试方式

### 本地运行方式
1. **安装依赖**：
   ```bash
   npm install
   # 或
   pnpm install
   ```

2. **启动开发服务器**：
   ```bash
   npm run dev
   # 或
   pnpm run dev
   ```

3. **构建生产版本**：
   ```bash
   npm run build
   # 或
   pnpm run build
   ```

### 已测试过的环境
- **Node.js 版本**：v20.x
- **操作系统**：Windows 10/11
- **浏览器**：Chrome, Firefox, Safari, Edge

### 已知问题与不足
1. **数据存储限制**：使用localStorage存储数据，单个域名下的存储容量有限（通常为5MB），不适合存储大量数据。
2. **无云同步**：数据仅存储在本地，无法实现多设备同步。
3. **无数据备份机制**：除了手动导出，没有自动备份机制，数据丢失风险较高。
5. **无离线支持**：虽然数据存储在本地，但没有实现真正的PWA（渐进式Web应用），无法在完全离线环境下使用。

## 6. 总结与反思

### 如果有更多时间，你会如何改进？
1. **添加云同步功能**：使用Firebase或Supabase等BaaS服务，实现多设备数据同步。
3. **优化图表性能**：实现图表的懒加载和虚拟滚动，提高大量数据下的渲染性能。
4. **添加更多统计维度**：添加时间分布、完成率趋势等更多统计图表。
5. **实现提醒功能**：添加日期和时间选择，结合浏览器的Notification API实现本地提醒。
6. **优化移动端体验**：进一步优化移动端的布局和交互体验。
7. **添加用户认证**：支持多个用户，每个用户有自己的待办事项列表。

### 你觉得这个实现的最大亮点是什么？
1. **完整的功能集**：实现了待办事项管理的核心功能，包括增删改查、批量操作、拖拽排序、优先级设置、标签功能等。
2. **良好的用户体验**：界面简洁美观，交互流畅，响应式设计适配不同屏幕尺寸。
3. **灵活的扩展性**：代码结构清晰，便于添加新功能和扩展现有功能。
4. **数据可视化**：通过图表直观展示待办事项的统计信息，帮助用户更好地管理时间和任务。
5. **数据导入/导出**：支持数据的导入和导出，方便用户备份和迁移数据。
6. **自定义分类和优先级**：允许用户根据自己的需求创建和管理分类和优先级，提高了应用的灵活性和个性化程度。
